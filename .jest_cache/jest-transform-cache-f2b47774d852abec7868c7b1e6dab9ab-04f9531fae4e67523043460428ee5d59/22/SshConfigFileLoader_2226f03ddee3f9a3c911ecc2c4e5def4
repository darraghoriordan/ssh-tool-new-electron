1cafd02c6938d4eaab12fcb24196bc60
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.SshConfigFileLoader = void 0;
const SshConfigFileDiskLoader_1 = __importDefault(require("./SshConfigFileDiskLoader"));
const SshConfigFileParser_1 = require("./SshConfigFileParser");
const path_1 = __importDefault(require("path"));
const electron_1 = require("electron");
class SshConfigFileLoader {
    static load() {
        // TODO: get the ssh file path from settings
        const sshFilePath = path_1.default.join(electron_1.app.getPath('home'), '.ssh', 'config');
        const rawFileContents = SshConfigFileDiskLoader_1.default.loadFromPath(sshFilePath);
        if (!rawFileContents.found) {
            throw new Error("Couldn't parse the ssh config file");
        }
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
        return SshConfigFileParser_1.SshConfigFileParser.parseValidSshHosts(rawFileContents.contents);
    }
}
exports.SshConfigFileLoader = SshConfigFileLoader;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2RhcnJhZ2hvcmlvcmRhbi9Eb2N1bWVudHMvcGVyc29uYWwtcHJvamVjdHMvc3NoLXRvb2wtbmV3LWVsZWN0cm9uL3NyYy9lbGVjdHJvbi9zZXJ2aWNlcy9zc2hDb25maWdGaWxlL1NzaENvbmZpZ0ZpbGVMb2FkZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsd0ZBQStEO0FBQy9ELCtEQUEwRTtBQUMxRSxnREFBdUI7QUFDdkIsdUNBQThCO0FBRTlCLE1BQWEsbUJBQW1CO0lBQzlCLE1BQU0sQ0FBQyxJQUFJO1FBQ1QsNENBQTRDO1FBQzVDLE1BQU0sV0FBVyxHQUFHLGNBQUksQ0FBQyxJQUFJLENBQUMsY0FBRyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUE7UUFFcEUsTUFBTSxlQUFlLEdBQUcsaUNBQXVCLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBRXpFLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFO1lBQzFCLE1BQU0sSUFBSSxLQUFLLENBQUMsb0NBQW9DLENBQUMsQ0FBQTtTQUN0RDtRQUVELG9FQUFvRTtRQUNwRSxPQUFPLHlDQUFtQixDQUFDLGtCQUFrQixDQUFDLGVBQWUsQ0FBQyxRQUFTLENBQUMsQ0FBQTtJQUMxRSxDQUFDO0NBQ0Y7QUFkRCxrREFjQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvZGFycmFnaG9yaW9yZGFuL0RvY3VtZW50cy9wZXJzb25hbC1wcm9qZWN0cy9zc2gtdG9vbC1uZXctZWxlY3Ryb24vc3JjL2VsZWN0cm9uL3NlcnZpY2VzL3NzaENvbmZpZ0ZpbGUvU3NoQ29uZmlnRmlsZUxvYWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3NoQ29uZmlnRmlsZURpc2tMb2FkZXIgZnJvbSAnLi9Tc2hDb25maWdGaWxlRGlza0xvYWRlcidcbmltcG9ydCB7IEF2YWlsYWJsZUhvc3QsIFNzaENvbmZpZ0ZpbGVQYXJzZXIgfSBmcm9tICcuL1NzaENvbmZpZ0ZpbGVQYXJzZXInXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IHsgYXBwIH0gZnJvbSAnZWxlY3Ryb24nXG5cbmV4cG9ydCBjbGFzcyBTc2hDb25maWdGaWxlTG9hZGVyIHtcbiAgc3RhdGljIGxvYWQoKTogQXZhaWxhYmxlSG9zdFtdIHtcbiAgICAvLyBUT0RPOiBnZXQgdGhlIHNzaCBmaWxlIHBhdGggZnJvbSBzZXR0aW5nc1xuICAgIGNvbnN0IHNzaEZpbGVQYXRoID0gcGF0aC5qb2luKGFwcC5nZXRQYXRoKCdob21lJyksICcuc3NoJywgJ2NvbmZpZycpXG5cbiAgICBjb25zdCByYXdGaWxlQ29udGVudHMgPSBTc2hDb25maWdGaWxlRGlza0xvYWRlci5sb2FkRnJvbVBhdGgoc3NoRmlsZVBhdGgpXG5cbiAgICBpZiAoIXJhd0ZpbGVDb250ZW50cy5mb3VuZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgcGFyc2UgdGhlIHNzaCBjb25maWcgZmlsZVwiKVxuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgcmV0dXJuIFNzaENvbmZpZ0ZpbGVQYXJzZXIucGFyc2VWYWxpZFNzaEhvc3RzKHJhd0ZpbGVDb250ZW50cy5jb250ZW50cyEpXG4gIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==