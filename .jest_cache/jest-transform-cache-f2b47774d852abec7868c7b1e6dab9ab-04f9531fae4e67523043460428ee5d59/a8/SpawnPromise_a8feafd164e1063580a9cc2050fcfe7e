d3aee8207e8beba3406e054893759b06
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.spawnPromise = void 0;
const child_process_1 = require("child_process");
const spawnPromise = (cmd, args, cwd, shell) => {
    return new Promise((resolve, reject) => {
        try {
            const runCommand = (0, child_process_1.spawn)(cmd, args, { cwd, shell });
            runCommand.stdout.on('data', data => resolve(data.toString()));
            runCommand.on('error', err => {
                throw new Error(err.message);
            });
        }
        catch (e) {
            reject(e);
        }
    });
};
exports.spawnPromise = spawnPromise;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2RhcnJhZ2hvcmlvcmRhbi9Eb2N1bWVudHMvcGVyc29uYWwtcHJvamVjdHMvc3NoLXRvb2wtbmV3LWVsZWN0cm9uL3NyYy9lbGVjdHJvbi9zZXJ2aWNlcy9Qcm9taXNpZmllZE5vZGVVdGlsaXRpZXMvU3Bhd25Qcm9taXNlLnRzIiwibWFwcGluZ3MiOiI7OztBQUFBLGlEQUFxQztBQUU5QixNQUFNLFlBQVksR0FBRyxDQUMxQixHQUFXLEVBQ1gsSUFBYyxFQUNkLEdBQVcsRUFDWCxLQUFlLEVBQ0UsRUFBRTtJQUNuQixPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFO1FBQ3JDLElBQUk7WUFDRixNQUFNLFVBQVUsR0FBRyxJQUFBLHFCQUFLLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFBO1lBQ25ELFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQzlELFVBQVUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxFQUFFO2dCQUMzQixNQUFNLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUM5QixDQUFDLENBQUMsQ0FBQTtTQUNIO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDVixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUE7U0FDVjtJQUNILENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFBO0FBakJZLFFBQUEsWUFBWSxnQkFpQnhCIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXJyYWdob3Jpb3JkYW4vRG9jdW1lbnRzL3BlcnNvbmFsLXByb2plY3RzL3NzaC10b29sLW5ldy1lbGVjdHJvbi9zcmMvZWxlY3Ryb24vc2VydmljZXMvUHJvbWlzaWZpZWROb2RlVXRpbGl0aWVzL1NwYXduUHJvbWlzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzcGF3biB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnXG5cbmV4cG9ydCBjb25zdCBzcGF3blByb21pc2UgPSAoXG4gIGNtZDogc3RyaW5nLFxuICBhcmdzOiBzdHJpbmdbXSxcbiAgY3dkOiBzdHJpbmcsXG4gIHNoZWxsPzogYm9vbGVhblxuKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcnVuQ29tbWFuZCA9IHNwYXduKGNtZCwgYXJncywgeyBjd2QsIHNoZWxsIH0pXG4gICAgICBydW5Db21tYW5kLnN0ZG91dC5vbignZGF0YScsIGRhdGEgPT4gcmVzb2x2ZShkYXRhLnRvU3RyaW5nKCkpKVxuICAgICAgcnVuQ29tbWFuZC5vbignZXJyb3InLCBlcnIgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChlKVxuICAgIH1cbiAgfSlcbn1cbiJdLCJ2ZXJzaW9uIjozfQ==